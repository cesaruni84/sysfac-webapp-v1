<div class="page-wrap height-100" style="background-image: url(assets/images/fondo_principal.jpg);background-size:100%;">
    <div class="session-form-hold">
        <mat-progress-bar mode="determinate" class="session-progress"></mat-progress-bar>
        <mat-card>
            <mat-card-content>
                <div class="text-center pb-1">
                    <img src="assets/images/logo-full.png" alt="" width="160" class="mb-0">
                    <br>
                    <mat-label [style.fontSize.px]="16" style="color:rgb(62, 139, 228)">MODULO DE FACTURACION ONLINE</mat-label>
                    <p class="text-muted m-0">Inicie sesión en su cuenta</p>
                </div>
                <form [formGroup]="signinForm" (ngSubmit)="signin()" [style.fontSize.px]="14">
                    <div class="">
                        <mat-form-field class="full-width" appearance="outline">
                            <mat-label style="color:rgb(62, 139, 228)">Usuario</mat-label>
                            <input matInput name="username" [formControl]="signinForm.controls['username']" placeholder="" value="">
                            <mat-icon matSuffix>account_box</mat-icon>
                            <mat-error *ngIf="signinForm.controls['username'].hasError('required') && signinForm.controls['username'].touched" class="form-error-msg"> Usuario es requerido </mat-error>
                        </mat-form-field>
                    </div>

                    <div class="">
                        <mat-form-field class="full-width" appearance="outline">
                            <mat-label style="color:rgb(62, 139, 228)">Password</mat-label>
                            <input type="password" name="password" matInput [formControl]="signinForm.controls['password']" placeholder="" value="">
                            <mat-icon matSuffix>vpn_key</mat-icon>
                            <mat-error *ngIf="signinForm.controls['password'].hasError('required') && signinForm.controls['password'].touched" class="form-error-msg"> Password es requerido </mat-error>
                        </mat-form-field>
                    </div>

                    <div class="">
                        <mat-form-field class="full-width" appearance="outline">
                            <mat-label style="color:rgb(62, 139, 228)">Empresa</mat-label>
                            <mat-select name="empresaSelected" placeholder="" [formControl]="signinForm.controls['empresaSelected']" requeried>
                                <mat-option *ngFor="let empresa of listaEmpresas" [value]="empresa">
                                    {{empresa.comercial + ' - RUC ' + empresa.ruc }}
                                </mat-option>
                            </mat-select>
                        </mat-form-field>

                    </div>
                    <div class="pb-1">
                        <small *ngIf="errorResponse_" class="form-error-msg"> {{errorResponse_.errorMessage }}</small>
                    </div>

                    <button mat-raised-button class="mat-primary full-width mb-1" [disabled]="signinForm.invalid">Ingresar</button>
                    <div class="text-center">
                        <a [routerLink]="'/sessions/forgot-password'" class="mat-primary text-center full-width">Olvidó clave?</a>
                        <span fxFlex></span>
                        <a [routerLink]="'/sessions/signup'" class="mat-primary text-center full-width">Crear una nueva cuenta</a>
                    </div>
                </form>
            </mat-card-content>
        </mat-card>
    </div>
</div>