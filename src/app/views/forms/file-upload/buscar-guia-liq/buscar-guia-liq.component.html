<mat-card class="p-0">

    <mat-card-title class="mat-bg-primary m-0">
        <div align="center" [style.fontSize.px]="15" class="p-0">
            <span>Búsqueda de Guias</span>
        </div>
        <mat-divider></mat-divider>
    </mat-card-title>

    <mat-card-content class="mb-0 p-05">
        <form [formGroup]="formFilter" id="ngForm" novalidate (ngSubmit)="submit()">
            <div fxLayout="row" fxLayout.xs="column" fxLayoutWrap fxLayoutGap="1.5%" class="mb-0 p-0" fxLayoutAlign="start left" [style.fontSize.px]="13">
                <!-- <mat-label class="pl-1 ml-2" fxFlex="30%"> </mat-label> -->

                <mat-form-field fxFlex="40%" class="pl-1" floatPlaceholder="never">
                    <mat-label><b>ORIGEN</b></mat-label>
                    <mat-select [compareWith]="compareObjects" [(ngModel)]="valorOrigenSelected_" name="origenSelected" [formControl]="formFilter.controls['origenSelected']">
                        <!-- <mat-option value="0">Todos</mat-option> -->
                        <mat-option *ngFor="let factoria2 of comboFactorias" [value]="factoria2">
                            {{factoria2.refLarga2}}
                        </mat-option>
                    </mat-select>
                </mat-form-field>
                <mat-form-field fxFlex="40%" class="pl-1" floatPlaceholder="never">
                    <mat-label><b>DESTINO</b></mat-label>
                    <mat-select [compareWith]="compareObjects" [(ngModel)]="valorDestinoSelected_" name="destinoSelected" [formControl]="formFilter.controls['destinoSelected']">
                        <!-- <mat-option value="0">Todos</mat-option> -->
                        <mat-option *ngFor="let factoria of comboFactoriasDestino" [value]="factoria">
                            {{factoria.refLarga2}}
                        </mat-option>
                    </mat-select>
                </mat-form-field>
            </div>
            <br>
            <div fxLayout="row" fxLayout.xs="column" fxLayoutWrap fxLayoutGap="4.5%" fxLayoutAlign="left" [style.fontSize.px]="15">
                <mat-form-field class="pl-1 ml-2" fxFlex="30%" [style.fontSize.px]="13">
                    <mat-label style="color:rgba(0, 0, 0, 0.54);"><b>FECHA INI TRASLADO</b></mat-label>
                    <input [(ngModel)]="valorFechaIniTraslado_" matInput name="fechaIniTraslado" [formControl]="formFilter.controls['fechaIniTraslado']" [matDatepicker]="picker" maxlength="10" style="color:#3f51b5">
                    <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                    <mat-datepicker #picker></mat-datepicker>
                </mat-form-field>
                <mat-form-field class="pl-1" fxFlex="30%" [style.fontSize.px]="13">
                    <mat-label style="color:rgba(0, 0, 0, 0.54);"><b>FECHA FIN TRASLADO</b></mat-label>
                    <input [(ngModel)]="valorFechaFinTraslado_" matInput name="fechaFinTraslado" [formControl]="formFilter.controls['fechaFinTraslado']" [matDatepicker]="picker2" maxlength="10" style="color:#3f51b5">
                    <mat-datepicker-toggle matSuffix [for]="picker2"></mat-datepicker-toggle>
                    <mat-datepicker #picker2></mat-datepicker>
                </mat-form-field>
                <mat-label fxFlex="28%"></mat-label>
                <div align="right" data-html2canvas-ignore="true">
                    <button mat-button align="right" type="button" color="primary" (click)="buscarGuiasXLiquidar()"><mat-icon>search</mat-icon>Buscar</button>
                </div>
            </div>

        </form>
    </mat-card-content>
</mat-card>

<div class="mat-box-shadow margin-333">

    <ngx-datatable class="material" [selected]="selected" [selectionType]="'checkbox'" (select)='onSelect($event)' [selectAllRowsOnPage]="false" [columnMode]="'force'" [scrollbarH]="'true'" [headerHeight]="40" [footerHeight]="48" [rowHeight]="'auto'" [limit]="5"
        [rows]="rows" [columns]="columns" [messages]="messages">
        <ngx-datatable-column [width]="30" [sortable]="false" [canAutoResize]="false" [draggable]="false" [resizeable]="false" [headerCheckboxable]="true" [checkboxable]="true">
        </ngx-datatable-column>
        <ngx-datatable-column name="Item" [flexGrow]="1" [width]="60" prop="id">
            <ng-template let-row="row" let-rowIndex="rowIndex" ngx-datatable-cell-template>
                <div [style.fontSize.px]="12"> {{ rowIndex + 1 }} </div>
            </ng-template>
        </ngx-datatable-column>
        <ngx-datatable-column name="F.Traslado" [flexGrow]="1" [width]="100" prop="fechaTraslado">
            <ng-template let-row="row" ngx-datatable-cell-template>
                <div [style.fontSize.px]="12">{{ row?.fechaTraslado | date: 'dd/MM/yyyy' }} </div>
            </ng-template>
        </ngx-datatable-column>
        <ngx-datatable-column name="Guia de Remisión" [flexGrow]="1" [width]="140" prop="nroguia">
            <ng-template let-row="row" ngx-datatable-cell-template>
                <div [style.fontSize.px]="12">{{ row?.serie + '-' + row?.secuencia }} </div>
            </ng-template>
        </ngx-datatable-column>

        <ngx-datatable-column name="Guia Rem. Cliente" [flexGrow]="1" [width]="140" prop="nroguia2">
            <ng-template let-row="row" ngx-datatable-cell-template>
                <div [style.fontSize.px]="12"> {{ row?.serieCliente + '-' + row?.secuenciaCliente }} </div>
            </ng-template>
        </ngx-datatable-column>

        <ngx-datatable-column name="Descripción" [flexGrow]="1" [width]="200" prop="guiaDetalle">
            <ng-template let-row="row" ngx-datatable-cell-template>
                <div [style.fontSize.px]="12"> {{ row?.guiaDetalle[0].producto.nombre }} </div>
            </ng-template>
        </ngx-datatable-column>

        <ngx-datatable-column name="Ticket Balanza" [flexGrow]="1" [width]="105" prop="ticketBalanza">
            <ng-template let-row="row" ngx-datatable-cell-template>
                <div [style.fontSize.px]="12">{{ row?.ticketBalanza }} </div>
            </ng-template>
        </ngx-datatable-column>



        <ngx-datatable-column name="Cantidad" [flexGrow]="1" [width]="80" prop="totalCantidad">
            <ng-template let-row="row" ngx-datatable-cell-template>
                <div align="right">
                    <div [style.fontSize.px]="12"> {{ row?.totalCantidad | number: '1.2-2' }} </div>
                </div>
            </ng-template>
        </ngx-datatable-column>

        <ngx-datatable-column name="UM" [flexGrow]="1" [width]="60" prop="unidadMedida">
            <ng-template let-row="row" ngx-datatable-cell-template>
                <div [style.fontSize.px]="12">{{ row?.guiaDetalle[0].unidadMedida.valor }} </div>
            </ng-template>
        </ngx-datatable-column>

        <!-- <ngx-datatable-column name="P. Unitario" [flexGrow]="1" [width]="90" prop="tarifa">
            <ng-template ngx-datatable-cell-template let-row="row" let-rowIndex="rowIndex" let-value="value">
                <div align="right">
                    <div [style.fontSize.px]="12"> {{ row?.tarifa | number: '1.2-2' }} </div>
                </div>
            </ng-template>
        </ngx-datatable-column>

        <ngx-datatable-column name="Sub Total" [flexGrow]="1" [width]="130" prop="subTotal">
            <ng-template let-row="row" ngx-datatable-cell-template>
                <div align="center" [style.fontSize.px]="12">
                    {{ row?.subTotal | number: '1.2-2' }}
                </div>
            </ng-template>
        </ngx-datatable-column> -->

    </ngx-datatable>
</div>

<div fxLayout="row" fxLayout.xs="column" [style.fontSize.px]="13" fxLayoutWrap fxLayoutGap="2.5%">
    <!-- <div fxFlex="100" class="mt-1"> -->
    <!-- <button mat-button color="primary" type="button" [disabled]="ordenServicioForm.invalid" (click)="confirmar()"><mat-icon>info</mat-icon> Confirmar</button> -->
    <button mat-button color="primary" type="submit" form="ngForm" [disabled]="!(this.selected.length > 0)"><mat-icon>done</mat-icon> Aceptar</button>
    <span fxFlex></span>
    <button mat-button color="warn" type="button" (click)="dialogRef.close(false)"><mat-icon>cancel</mat-icon> Cancelar</button>
</div>